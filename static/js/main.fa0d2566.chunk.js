(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(33),i=n.n(c),o=(n(78),n(2)),s=n(3),u=n(5),l=n(4),p=n(6),h=n(72),d=(n(110),function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(h.a,{className:this.props.className},r.a.createElement("div",{className:"app-content--content"},this.props.children))}}]),e}(a.Component)),f=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className},r.a.createElement("div",{className:"app-header--content"},this.props.children))}}]),e}(a.Component),m=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.className},r.a.createElement("div",{className:"app-actions--content"},this.props.children))}}]),e}(a.Component),v=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t="action action-".concat(this.props.componentType||"button");return r.a.createElement("div",{className:t},this.props.children)}}]),e}(a.Component),b=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-name"},"App Name")}}]),e}(a.Component),O=n(50),y=n(20),j=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("h2",null,this.props.noteId)}}]),e}(a.Component),w=n(7),E=n.n(w),N=n(12),k=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{id:this.props.id,className:"note ".concat(this.props.className),onClick:this.props.onClick})}}]),e}(a.Component),g=function(t){return"string"===typeof t&&t.endsWith("px")?+t.substring(0,t.length-2):+t},x=function(t){return{top:g(t.offsetTop),left:g(t.offsetLeft)}},I=function(t){var e=window.getComputedStyle(t),n=e.width,a=e.height;return{width:g(n),height:g(a)}},T=function(t,e,n){e+="px",n+="px",t.style.transform="translate3D(".concat(n,", ").concat(e,", 0)")},C=function(t,e,n){e+="px",n+="px",t.style.maxWidth=e,t.style.maxHeight=n},A=function(){function t(e,n,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(o.a)(this,t),this.step=e,this.duration=n||0,this.timingFunction=a||R.Linear,this.reverse=r,this.startTime=null}return Object(s.a)(t,[{key:"start",value:function(){var t=Object(N.a)(E.a.mark(function t(){var e,n=this;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=function t(e){return function(a){n.startTime||(n.startTime=a);var r=a-n.startTime,c=n.timingFunction(r/n.duration);c>1&&(c=1);var i=c<1;n.step(n.reverse?1-c:c),i?window.requestAnimationFrame(t(e)):e()}},t.abrupt("return",new Promise(function(t){return window.requestAnimationFrame(e(t))}));case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"startReverse",value:function(){var t=Object(N.a)(E.a.mark(function t(){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.reverse=!0,t.abrupt("return",this.start());case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),R={Linear:function(t){return t},EaseInOut:function(t){return Math.round((Math.sin(3.1412*(t-.5))+1)/2*1e3)/1e3}},_=function(t,e,n){var a=I(n),r=x(t),c=I(t),i={top:+r.top,right:a.width-(r.left+c.width),bottom:a.height-(r.top+c.height),left:+r.left},o=Object.values(i).sort().pop(),s=function(t,e){var n=t*o;return n<e?n:e};return new A(function(t){var n=s(t,i.top),a=s(t,i.right),o=s(t,i.bottom),u=s(t,i.left),l={top:r.top-n,left:r.left-u},p={width:c.width+(u+a),height:c.height+(n+o)};C(e,p.width,p.height),T(e,l.top,l.left)},200,R.EaseInOut)},L=n(35),P=function(t,e){return new Promise(function(n){return setTimeout(function(){e&&e(),n()},t)})},D=Object(L.b)(function(t){return{notes:t.data.notes}})(function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(u.a)(this,Object(l.a)(e).call(this,t))).containerRef=r.a.createRef(),n.state={selectedNote:null,selectedNoteElement:null},n.overlayRef=r.a.createRef(),n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e=function(e){return t.state.selectedNote?e.id===t.state.selectedNote.id?"selected":"not-selected":""};return r.a.createElement("div",{className:"note-list ".concat(this.state.selectedNote&&"has-selected"," ").concat(this.props.className),ref:this.containerRef},this.props.notes.map(function(n){return r.a.createElement(k,{key:n.id,id:n.id,"note-data":n,className:e(n),onClick:function(e){return t.selectNote(n,e.target)}})}),r.a.createElement("div",{className:"overlay-note hide no-transition",ref:this.overlayRef,onClick:function(e){return t.deSelectNote(t.state.selectedNote,e.target)}}))}},{key:"setStateAsync",value:function(){var t=Object(N.a)(E.a.mark(function t(e,n){var a=this;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){a.setState(e,function(){n&&n(),t()})}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"selectNote",value:function(){var t=Object(N.a)(E.a.mark(function t(e,n){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setStateAsync({selectedNote:e,selectedNoteElement:n});case 2:return t.next=4,this._showOverlay();case 4:return t.next=6,this._expandOverlay();case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"deSelectNote",value:function(){var t=Object(N.a)(E.a.mark(function t(){return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._collapseOverlay();case 2:return t.next=4,this._hideOverlay();case 4:return t.next=6,this.setStateAsync({selectedNote:null,selectedNoteElement:null});case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_showOverlay",value:function(){var t=Object(N.a)(E.a.mark(function t(){var e,n,a,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selectedNoteElement,n=this.overlayRef.current,a=I(e),r=x(e),n.classList.add("no-transition"),n.classList.remove("gone"),C(n,a.width,a.height),T(n,r.top,r.left),t.next=10,P(0);case 10:return n.classList.remove("no-transition"),n.classList.remove("hide"),t.abrupt("return",P(200));case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_hideOverlay",value:function(){var t=Object(N.a)(E.a.mark(function t(){var e;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(e=this.overlayRef.current).classList.remove("no-transition"),e.classList.add("hide"),t.next=5,P(200);case 5:e.classList.add("no-transition"),e.classList.add("gone"),C(e,0,0),T(e,0,0);case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_expandOverlay",value:function(){var t=Object(N.a)(E.a.mark(function t(){var e,n,a,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selectedNoteElement,n=this.containerRef.current,a=this.overlayRef.current,r=_(e,a,n),t.abrupt("return",r.start());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_collapseOverlay",value:function(){var t=Object(N.a)(E.a.mark(function t(){var e,n,a,r;return E.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.state.selectedNoteElement,n=this.containerRef.current,a=this.overlayRef.current,r=_(e,a,n),t.abrupt("return",r.startReverse());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}(a.Component)),S=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(D,null)}}]),e}(a.Component),F=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement(O.a,{basename:"/my-notes-with-react"},r.a.createElement(y.c,null,r.a.createElement(y.a,{exact:!0,path:"/",component:M.homePage}),r.a.createElement(y.a,{path:"/note/:id",component:M.noteDetailPage}),r.a.createElement(y.a,{component:M.notFoundPage})))}}]),e}(a.Component),M={homePage:function(){return r.a.createElement(S,null)},noteDetailPage:function(t){var e=t.match.params.id;return e?r.a.createElement(j,{noteId:e}):r.a.createElement(O.b,{to:"/"},"Back to Home")},notFoundPage:function(){return r.a.createElement("h2",null,"404")}},W="DATA_NOTE_CREATE",B="DATA_NOTE_UPDATE",q="DATA_NOTE_DELETE",H=function(t){return{type:W,payload:t}},J=n(19),U={app:{},data:{notes:[]}},$=n(26),z={getAllItems:function(t){return Object($.a)(t)},addItem:function(t,e){return[].concat(Object($.a)(t),[e])},updateItem:function(t,e){return t.map(function(t){return t.id===e.id?e:t})},deleteItem:function(t,e){return t.reduce(function(t,n){return[].concat(Object($.a)(t),Object($.a)(n.id===e.id?[]:[n]))},[])},of:function(t){return{getAllItems:function(t){return z.getAllItems(t)},addItem:function(e){return z.addItem(t,e)},updateItem:function(e){return z.updateItem(t,e)},deleteItem:function(e){return z.deleteItem(t,e)}}}},G=Object(J.b)({app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.app;return(arguments.length>1?arguments[1]:void 0).type,t},data:Object(J.b)({notes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.data.notes,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case W:return z.of(t).addItem(e.payload);case B:return z.of(t).updateItem(e.payload);case q:return z.of(t).deleteItem(e.payload);default:return t}}})}),K=Object(J.c)(G,U),Q=function(t){function e(){return Object(o.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){V(K)}},{key:"render",value:function(){return r.a.createElement(L.a,{store:K},r.a.createElement("div",{id:"app"},r.a.createElement(f,{className:"app-header"},r.a.createElement(b,null)),r.a.createElement(d,{className:"app-content"},r.a.createElement(F,null)),r.a.createElement(m,{className:"app-actions"},r.a.createElement(v,{componentType:"bar"},"1"),r.a.createElement(v,{componentType:"button"},"2"))))}}]),e}(a.Component),V=function(t){var e=function(){var t=Math.random();return{id:t,title:"Title of "+t,content:"Content of "+t}};t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e())),t.dispatch(H(e()))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},73:function(t,e,n){t.exports=n(120)},78:function(t,e,n){}},[[73,1,2]]]);
//# sourceMappingURL=main.fa0d2566.chunk.js.map